!function(a){a.fn.magnify&&(a("<style>.lens-mobile {position:fixed;top:0;left:0;width:100%;height:100%;background:#ccc;display:none;overflow:scroll;-webkit-overflow-scrolling:touch;z-index:9999;}.magnify-mobile>.close {position:fixed;top:10px;right:10px;width:32px;height:32px;background:#333;border-radius:16px;color:#fff;display:inline-block;font:normal bold 20px/32px sans-serif;letter-spacing:0;opacity:0.8;text-align:center;text-shadow:none;z-index:9999;}@media only screen and (min-device-width:320px) and (max-device-width:773px) {/* Assume QHD (1440 x 2560) is highest mobile resolution */.lens-mobile { display:block; }}</style>").appendTo("head"),a(window).on("load",function(){a("body").append('<div class="magnify-mobile"><div class="lens-mobile"></div></div>');var i,o,n=a(".lens-mobile");n.is(":visible")&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.msMaxTouchPoints)&&(i=a(".magnify"),o=a(".magnify-mobile"),i.off(),o.hide().append('<i class="close">&times;</i>'),o.children(".close").on("touchstart",function(){o.toggle()}),i.children("img").on({touchend:function(){var i;a(this).data("drag")||(i=a(this).data("scrollOffset"),o.toggle(),n.scrollLeft(i.x),n.scrollTop(i.y))},touchmove:function(){a(this).data("drag",!0)},touchstart:function(i){n.html('<img src="'+a(this).prev(".magnify-lens").css("background-image").replace(/url\(["']?|["']?\)/g,"")+'" alt="">');var o=a(this),e=o.data("zoomSize"),t=(i.originalEvent.touches[0].pageX-o.offset().left)/o.width(),i=(i.originalEvent.touches[0].pageY-o.offset().top)/o.height();o.data("scrollOffset",{x:e.width*t-window.innerWidth/2,y:e.height*i-window.innerHeight/2}),a(this).data("drag",!1)}}))}))}(jQuery);